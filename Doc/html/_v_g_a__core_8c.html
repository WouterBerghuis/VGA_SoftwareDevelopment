<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API_VGA: D:/Bestanden/ET Jaar 3/Software Ontwikkeling/Software/swont_ide/Library/VGA_core.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API_VGA
   &#160;<span id="projectnumber">1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_v_g_a__core_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">VGA_core.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains all the core functions for controlling the VGA screen.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_v_g_a__core_8h_source.html">VGA_core.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ade692319ed4167a35485f514039feae8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa">VGA_INIT_ERROR_CODES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_v_g_a__core_8c.html#ade692319ed4167a35485f514039feae8">API_VGA_Screen_Init</a> (void)</td></tr>
<tr class="memdesc:ade692319ed4167a35485f514039feae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initialized the VGA screen.  <a href="_v_g_a__core_8c.html#ade692319ed4167a35485f514039feae8">More...</a><br /></td></tr>
<tr class="separator:ade692319ed4167a35485f514039feae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850b2269b47826f529ff8c0c34f2d503"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa">VGA_INIT_ERROR_CODES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_v_g_a__core_8c.html#a850b2269b47826f529ff8c0c34f2d503">API_Clearscreen</a> (uint8_t color)</td></tr>
<tr class="memdesc:a850b2269b47826f529ff8c0c34f2d503"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears the screen.  <a href="_v_g_a__core_8c.html#a850b2269b47826f529ff8c0c34f2d503">More...</a><br /></td></tr>
<tr class="separator:a850b2269b47826f529ff8c0c34f2d503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5f4ee3788504643af7c5b5e25ec667"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa">VGA_INIT_ERROR_CODES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_v_g_a__core_8c.html#a2e5f4ee3788504643af7c5b5e25ec667">API_SetPixel</a> (uint16_t xp, uint16_t yp, uint8_t color)</td></tr>
<tr class="memdesc:a2e5f4ee3788504643af7c5b5e25ec667"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the color of a single pixel.  <a href="_v_g_a__core_8c.html#a2e5f4ee3788504643af7c5b5e25ec667">More...</a><br /></td></tr>
<tr class="separator:a2e5f4ee3788504643af7c5b5e25ec667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a25fc663547539bc49fecc0011bd76ab5"><td class="memItemLeft" align="right" valign="top">TIM_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_v_g_a__core_8c.html#a25fc663547539bc49fecc0011bd76ab5">htim1</a></td></tr>
<tr class="separator:a25fc663547539bc49fecc0011bd76ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c80fd5510e2990a59a5c90d745c716c"><td class="memItemLeft" align="right" valign="top">TIM_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_v_g_a__core_8c.html#a2c80fd5510e2990a59a5c90d745c716c">htim2</a></td></tr>
<tr class="separator:a2c80fd5510e2990a59a5c90d745c716c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e79e362967e621b35e4adc5a9239c1"><td class="memItemLeft" align="right" valign="top">DMA_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_v_g_a__core_8c.html#a66e79e362967e621b35e4adc5a9239c1">hdma_tim1_up</a></td></tr>
<tr class="separator:a66e79e362967e621b35e4adc5a9239c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all the core functions for controlling the VGA screen. </p>
<dl class="section author"><dt>Author</dt><dd>Wouter Berghuis </dd></dl>
<dl class="section date"><dt>Date</dt><dd>24 April 2020 The VGA screen is controlled outside the main functions loop. This is done with the use of Timers (TIM1 and TIM2) and the DMA (DMA2, Channel6 and Stream5). These will control the different GPIO-pins connected to the VGA connector.</dd></dl>
<p>Signal: PB11 = HSync-Signal PB12 = VSync-Signal PE8+PE9 = Color Blue PE10-PE12 = Color Green PE13-PE15 = Color red</p>
<p>VGA out: 320x240 Pixel 8bit color </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a850b2269b47826f529ff8c0c34f2d503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850b2269b47826f529ff8c0c34f2d503">&#9670;&nbsp;</a></span>API_Clearscreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa">VGA_INIT_ERROR_CODES</a> API_Clearscreen </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function clears the screen. </p>
<p>Clearing the screen is done by setting the whole screen to one color. This is done by setting each individual pixel to a specific color.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>The color of screen to clear the screen with, (uint8_t) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">VGA_INIT_ERROR_CODES</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa" title="Returnvalues for the different core VGA functions.">VGA_INIT_ERROR_CODES</a> </dd></dl>

</div>
</div>
<a id="a2e5f4ee3788504643af7c5b5e25ec667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5f4ee3788504643af7c5b5e25ec667">&#9670;&nbsp;</a></span>API_SetPixel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa">VGA_INIT_ERROR_CODES</a> API_SetPixel </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>xp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>yp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the color of a single pixel. </p>
<p>Setting the color of a single pixel is done by writing the color code in the VGA_RAM. The position in the RAM corresponds with the coordinates on the screen.</p>
<p>Important : The last Pixel+1 from every line must be black The reason for this is still unclear</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xp</td><td>The x-coordinate of the pixel, (uint16_t) </td></tr>
    <tr><td class="paramname">yp</td><td>The y-coordinate of the pixel, (uint16_t) </td></tr>
    <tr><td class="paramname">color</td><td>The color of screen to clear the screen with, (uint8_t) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">VGA_INIT_ERROR_CODES</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa" title="Returnvalues for the different core VGA functions.">VGA_INIT_ERROR_CODES</a> </dd></dl>

</div>
</div>
<a id="ade692319ed4167a35485f514039feae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade692319ed4167a35485f514039feae8">&#9670;&nbsp;</a></span>API_VGA_Screen_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa">VGA_INIT_ERROR_CODES</a> API_VGA_Screen_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initialized the VGA screen. </p>
<p>Global Function call.</p>
<p>The initialization consist of the following steps:</p><ol type="1">
<li>Setting timer2 Channel 4 is the HSync-signal Channel 3 is the trigger point for the DMA start</li>
<li>Enabling the DMA which uses timer1 The DMA is used to send the 8bit color to the VGA color pins from the VGA_RAM. In these RAM the color for each individual pixel can be set.</li>
<li>Clear the screen The screen is set to full black after initializing the VGA_screen.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">VGA_INIT_ERROR_CODES</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_v_g_a__core_8h.html#a9b485a722de9fa0ba181f6bae241abfa" title="Returnvalues for the different core VGA functions.">VGA_INIT_ERROR_CODES</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a66e79e362967e621b35e4adc5a9239c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e79e362967e621b35e4adc5a9239c1">&#9670;&nbsp;</a></span>hdma_tim1_up</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA_HandleTypeDef hdma_tim1_up</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a25fc663547539bc49fecc0011bd76ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fc663547539bc49fecc0011bd76ab5">&#9670;&nbsp;</a></span>htim1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TIM_HandleTypeDef htim1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2c80fd5510e2990a59a5c90d745c716c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c80fd5510e2990a59a5c90d745c716c">&#9670;&nbsp;</a></span>htim2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TIM_HandleTypeDef htim2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5ad7f572bbca03234e8e621e192fc099.html">Library</a></li><li class="navelem"><a class="el" href="_v_g_a__core_8c.html">VGA_core.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
